{% extends 'base.html' %}
{% load static %}
{% block title %}Categories{% endblock title %}

{% block content %}

<section data-bs-version="5.1" class="features4 cid-tMlEXTHLbS" id="features04-w" style="padding-top: 8%; margin: auto;">
    <div class="container-fluid">
        <div class="container-fluid">
        <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-12 content-head">
                <div class="mbr-section-head mb-5">
                    <h5 class="mbr-section-title mbr-fonts-style align-center mb-0 display-2"><strong>Our Services</strong></h5>
                </div>
            </div>
        </div>
        <div class="row" id="features-carousel">
            {% for data in category_entries %}
                <div class="item features-image col-12 col-md-6 col-lg-4">
                    <div class="item-wrapper">
                        <a href="{% url 'category_detail' data.slug %}">
                        <div class="item-img">
                            <img src="{{data.featured_image.url}}" alt="Mobirise Website Builder">
                        </div>
                            </a>
                        <div class="item-content">
                        <a href="{% url 'category_detail' data.slug %}">
                            <h2>
                                   <strong>{{data.name}}</strong>
                            </h2>

                        </a>
                        <a href="{% url 'category_detail' data.slug %}">
                            <p class="mbr-text mbr-fonts-style display-7 text-black">
                                {{ data.description}}
                            </p>
                            </a>
                            <div class="mbr-section-btn item-footer"><a href="{% url 'category_detail' data.slug %}" class="btn item-btn btn-primary display-7">Read more</a></div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="row">
			<div class="col-md-12">
				<h4 class="text-center col-md-15">Page {{category_entries.number}}/{{category_entries.paginator.num_pages}}</h4>
				
				<nav aria-label="Page navigation">
					<ul class="pagination justify-content-center">
						{% if category_entries.has_previous %}
							<li class="page-item">
								<a class="btn btn-primary page-link" href="?page={{ category_entries.previous_page_number }}">Previous</a>
							</li>
						{% endif %}
						{% for num_page in category_entries.paginator.page_range %}
							<li class="page-item {% if category_entries.number == num_page %}active{% endif %}">
								<a class="btn btn-primary page-link" href="?page={{ num_page }}">{{ num_page }}</a>
							</li>
						{% endfor %}
						<li class="page-item">
							{% if category_entries.has_next %}
								<a class="btn btn-primary page-link button-primary" href="?page={{ category_entries.next_page_number }}">Next</a>
							{% endif %}
						</li>
					</ul>
				</nav>
				
			</div><!-- end col -->
		</div>
        </div>
    </div>
    </div>
</section>

{% endblock content %}
